function authenticate(){var e=380,t=590,o=screen.width/2-e/2,n=screen.height/2-t/2,s="https://api.twitch.tv/kraken/oauth2/authorize?response_type=code&client_id=mjskka8m7r0sh5g7l6q2jhnrygxl010&redirect_uri=http://149.210.138.162:69/auth&scope=user_subscriptions&state="+client_hash;window.open(s,"Twitch - Authorize Application","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+e+", height="+t+", top="+n+", left="+o)}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=t.exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}var client_hash,socket;$(document).ready(function(){var e=getParameterByName("debug");socket=io.connect("http://149.210.138.162:3008"),socket.on("connect",function(){socket.emit("client_hash_req"),e&&console.log("Connected to server socket.")}),socket.on("client_hash",function(t){e&&console.log("Received authentication key: '"+t+"'"),client_hash=t}),socket.on("auth_msg",function(t){e&&console.log("Received message from server: '"+t.message+"', with status '"+t.status+"'."),$("span.message").text(t.message),$("span.image").html('<img src="/images/'+t.status+("wait"===t.status?".gif":".png")+'" />')}),socket.on("auth_redir",function(t){e?console.log("Server redirected to '"+t.url+"'"):window.location.replace(t.url+"?hash="+client_hash)})});